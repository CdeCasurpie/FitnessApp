<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Plan Fitness</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Meta tags para PWA -->
    <meta name="theme-color" content="#FF6B35">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Plan Fitness">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Plan Fitness">
    
    <!-- Iconos para diferentes dispositivos -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
    
    <!-- Meta tags adicionales -->
    <meta name="description" content="Tu plan personal de fitness y nutrición. Sigue tu progreso diario y alcanza tus objetivos.">
    <meta name="keywords" content="fitness, ejercicio, nutrición, salud, calorías, entrenamiento">
    <meta name="author" content="Plan Fitness App">
    
    <!-- Prevenir zoom en dispositivos móviles -->
    <meta name="format-detection" content="telephone=no">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-content">
                <h1 class="app-title">Plan Fitness</h1>
                <div class="user-info">
                    <span class="user-name" id="user-name">Cesar</span>
                    <div class="user-stats">
                        <span class="stat" id="user-weight">64.2 kg</span>
                        <span class="stat" id="user-height">1.65 m</span>
                    </div>
                </div>
            </div>
        </header>

        <nav class="bottom-nav">
            <button class="nav-btn active" data-tab="today">
                <div class="nav-icon">
                    <div class="icon-calendar"></div>
                </div>
                <span>Hoy</span>
            </button>
            <button class="nav-btn" data-tab="week">
                <div class="nav-icon">
                    <div class="icon-chart"></div>
                </div>
                <span>Semana</span>
            </button>
            <button class="nav-btn" data-tab="config">
                <div class="nav-icon">
                    <div class="icon-settings"></div>
                </div>
                <span>Config</span>
            </button>
        </nav>

        <main class="main-content">
            <div class="tab-content active" id="today-tab">
                <div class="today-header">
                    <div class="date-info">
                        <h2 class="current-day" id="current-day">Lunes</h2>
                        <p class="current-date" id="current-date">9 de Agosto, 2025</p>
                    </div>
                    <div class="calories-summary">
                        <div class="calories-item">
                            <span class="calories-label">Reposo</span>
                            <span class="calories-value" id="bmr-calories">1580</span>
                        </div>
                        <div class="calories-item">
                            <span class="calories-label">Ejercicio</span>
                            <span class="calories-value" id="exercise-calories">0</span>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3 class="section-title">Objetivo del día</h3>
                    <div class="goal-card">
                        <p id="daily-goal">Activar metabolismo y empezar déficit fuerte.</p>
                    </div>
                </div>

                <div class="section">
                    <h3 class="section-title">Entrenamiento</h3>
                    <div class="workout-list" id="workout-list"></div>
                    <div class="workout-summary">
                        <span>Total: <strong id="total-exercise-calories">0 kcal</strong></span>
                    </div>
                </div>

                <div class="section">
                    <h3 class="section-title">Mis Comidas</h3>
                    
                    <div class="add-meal-form">
                        <div class="form-row">
                            <input type="text" id="meal-name" placeholder="Nombre de la comida" class="meal-input">
                            <input type="number" id="meal-calories" placeholder="kcal" class="meal-input small">
                            <button class="btn-add-meal" id="add-meal-btn">+</button>
                        </div>
                    </div>
                    
                    <div class="meals-list" id="meals-list"></div>
                    
                    <div class="meals-summary">
                        <div class="summary-item">
                            <span>Consumo total</span>
                            <strong id="total-calories-consumed">0 kcal</strong>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3 class="section-title">Calorías del Día</h3>
                    <div class="calorie-bar-container">
                        <div class="calorie-bar">
                            <div class="calorie-marker" id="calorie-marker"></div>
                        </div>
                        <div class="calorie-labels">
                            <span class="calorie-label left">-1000</span>
                            <span class="calorie-label center">0</span>
                            <span class="calorie-label right">+1000</span>
                        </div>
                        <div class="calorie-info">
                            <span id="calorie-status">0 kcal consumidas</span>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="complete-workout">
                        Completar Entrenamiento
                    </button>
                </div>
            </div>

            <div class="tab-content" id="week-tab">
                <div class="week-header">
                    <h2>Progreso Semanal</h2>
                    <p>Semana del 4 al 10 de Agosto</p>
                </div>
                
                <div class="week-schedule" id="week-schedule"></div>
            </div>

            <div class="tab-content" id="config-tab">
                <div class="config-header">
                    <h2>Configuración</h2>
                    <p>Actualiza tu información personal</p>
                </div>

                <div class="config-section">
                    <h3>Información Personal</h3>
                    <div class="config-form">
                        <div class="input-group">
                            <label for="config-name">Nombre</label>
                            <input type="text" id="config-name" value="Cesar">
                        </div>
                        <div class="input-group">
                            <label for="config-weight">Peso (kg)</label>
                            <input type="number" step="0.1" id="config-weight" value="64.2">
                        </div>
                        <div class="input-group">
                            <label for="config-height">Altura (cm)</label>
                            <input type="number" id="config-height" value="165">
                        </div>
                        <div class="input-group">
                            <label for="config-age">Edad (años)</label>
                            <input type="number" id="config-age" value="20">
                        </div>
                        <button class="btn btn-primary" id="save-config">Guardar Cambios</button>
                    </div>
                </div>

                <div class="config-section">
                    <h3>Registro de Medidas</h3>
                    <div class="measurement-buttons">
                        <button class="btn btn-secondary" onclick="showChart('weight')">Ver Gráfica de Peso</button>
                        <button class="btn btn-secondary" onclick="showChart('height')">Ver Gráfica de Altura</button>
                        <button class="btn btn-secondary" onclick="showChart('age')">Ver Gráfica de Edad</button>
                    </div>
                </div>

                <div class="config-section">
                    <h3>Plan de Ejercicios</h3>
                    <p>Personaliza tu rutina semanal de ejercicios</p>
                    <div class="plan-buttons">
                        <button class="btn btn-secondary" onclick="switchTab('week')">Editar Plan Semanal</button>
                        <button class="btn btn-secondary" id="reset-plan">Restaurar Plan Original</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div class="modal" id="chart-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="chart-title">Gráfica</h3>
                <button class="modal-close" onclick="closeChart()">×</button>
            </div>
            <div class="modal-body">
                <canvas id="chart-canvas" width="300" height="200"></canvas>
            </div>
        </div>
    </div>

    <div class="modal" id="success-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Excelente</h3>
            </div>
            <div class="modal-body">
                <p id="success-message">Entrenamiento completado correctamente</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="close-modal">Continuar</button>
            </div>
        </div>
    </div>

    <!-- Modal para editar plan de ejercicios -->
    <div class="modal" id="edit-plan-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Editar plan de <span id="edit-day-name">Lunes</span></h3>
                <button class="modal-close" onclick="closePlanModal()">×</button>
            </div>
            <div class="modal-body edit-plan-body">
                <div class="input-group">
                    <label for="edit-goal">Objetivo del día</label>
                    <textarea id="edit-goal" placeholder="Describe el objetivo para este día..." rows="2"></textarea>
                </div>
                
                <div class="exercises-section">
                    <h4>Ejercicios</h4>
                    <div id="edit-exercises-list"></div>
                    <button class="btn btn-secondary" id="add-exercise-btn">+ Agregar Ejercicio</button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="save-day-plan">Guardar Plan</button>
                <button class="btn btn-secondary" onclick="closePlanModal()">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Welcome Form Overlay -->
    <div class="welcome-overlay" id="welcome-overlay">
        <div class="welcome-container">
            <div class="welcome-header">
                <div class="welcome-icon">💪</div>
                <h1 class="welcome-title">¡Bienvenido!</h1>
                <p class="welcome-subtitle">Configuremos tu plan fitness personalizado</p>
            </div>
            
            <div class="step-indicator">
                <div class="step-dot active" data-step="0"></div>
                <div class="step-dot" data-step="1"></div>
                <div class="step-dot" data-step="2"></div>
                <div class="step-dot" data-step="3"></div>
                <div class="step-dot" data-step="4"></div>
            </div>
            
            <div class="welcome-content">
                <!-- Paso 1: Información Personal -->
                <div class="step-content active" data-step="0">
                    <h2 class="step-title">Cuéntanos sobre ti</h2>
                    <p class="step-description">Esta información nos ayudará a calcular tus necesidades calóricas y crear un plan personalizado.</p>
                    
                    <div class="welcome-form">
                        <div class="welcome-input-group">
                            <label for="welcome-name">¿Cómo te llamas?</label>
                            <input type="text" id="welcome-name" class="welcome-input" placeholder="Tu nombre">
                        </div>
                        <div class="welcome-input-group">
                            <label for="welcome-age">¿Cuántos años tienes?</label>
                            <input type="number" id="welcome-age" class="welcome-input" placeholder="Edad" min="13" max="100">
                        </div>
                        <div class="welcome-input-group">
                            <label for="welcome-weight">¿Cuál es tu peso? (kg)</label>
                            <input type="number" id="welcome-weight" class="welcome-input" placeholder="Peso en kg" step="0.1" min="30" max="200">
                        </div>
                        <div class="welcome-input-group">
                            <label for="welcome-height">¿Cuál es tu altura? (cm)</label>
                            <input type="number" id="welcome-height" class="welcome-input" placeholder="Altura en cm" min="120" max="220">
                        </div>
                    </div>
                </div>
                
                <!-- Paso 2: Objetivo -->
                <div class="step-content" data-step="1">
                    <h2 class="step-title">¿Cuál es tu objetivo?</h2>
                    <p class="step-description">Selecciona tu meta principal para que podamos ajustar tu plan de ejercicios.</p>
                    
                    <div class="goal-options">
                        <div class="goal-option" data-goal="lose-weight">
                            <div class="goal-option-title">🔥 Perder peso</div>
                            <p class="goal-option-desc">Quemar grasa y reducir peso corporal con ejercicios cardiovasculares y déficit calórico.</p>
                        </div>
                        <div class="goal-option" data-goal="build-muscle">
                            <div class="goal-option-title">💪 Ganar músculo</div>
                            <p class="goal-option-desc">Aumentar masa muscular con ejercicios de fuerza y superávit calórico controlado.</p>
                        </div>
                        <div class="goal-option" data-goal="maintain">
                            <div class="goal-option-title">⚖️ Mantener forma</div>
                            <p class="goal-option-desc">Mantener peso actual y mejorar condición física general con ejercicios variados.</p>
                        </div>
                        <div class="goal-option" data-goal="tone">
                            <div class="goal-option-title">✨ Tonificar</div>
                            <p class="goal-option-desc">Definir músculos y mejorar composición corporal con ejercicios funcionales.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Paso 3: Nivel de experiencia -->
                <div class="step-content" data-step="2">
                    <h2 class="step-title">¿Cuál es tu nivel?</h2>
                    <p class="step-description">Esto nos ayudará a ajustar la intensidad de los ejercicios a tu capacidad actual.</p>
                    
                    <div class="experience-levels">
                        <div class="experience-option" data-level="beginner">
                            <div class="experience-icon">🌱</div>
                            <div class="experience-title">Principiante</div>
                            <p class="experience-desc">Nuevo en el ejercicio o menos de 6 meses de experiencia</p>
                        </div>
                        <div class="experience-option" data-level="intermediate">
                            <div class="experience-icon">🏃</div>
                            <div class="experience-title">Intermedio</div>
                            <p class="experience-desc">6 meses a 2 años de experiencia ejercitándome regularmente</p>
                        </div>
                        <div class="experience-option" data-level="advanced">
                            <div class="experience-icon">🏆</div>
                            <div class="experience-title">Avanzado</div>
                            <p class="experience-desc">Más de 2 años de experiencia con rutinas establecidas</p>
                        </div>
                    </div>
                </div>
                
                <!-- Paso 4: Tiempo disponible -->
                <div class="step-content" data-step="3">
                    <h2 class="step-title">¿Cuánto tiempo tienes?</h2>
                    <p class="step-description">Ajustaremos la duración de tus entrenamientos según tu disponibilidad.</p>
                    
                    <div class="goal-options">
                        <div class="goal-option" data-time="15">
                            <div class="goal-option-title">⚡ 15-20 minutos</div>
                            <p class="goal-option-desc">Entrenamientos cortos e intensos, perfectos para días ocupados.</p>
                        </div>
                        <div class="goal-option" data-time="30">
                            <div class="goal-option-title">🎯 30-40 minutos</div>
                            <p class="goal-option-desc">Duración ideal para un entrenamiento completo y efectivo.</p>
                        </div>
                        <div class="goal-option" data-time="60">
                            <div class="goal-option-title">🔥 60+ minutos</div>
                            <p class="goal-option-desc">Entrenamientos extensos para máximos resultados.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Paso 5: Resumen y confirmación -->
                <div class="step-content" data-step="4">
                    <div class="completion-animation">
                        <div class="completion-icon">🎉</div>
                        <h2 class="completion-title">¡Todo listo!</h2>
                        <p class="completion-message">Hemos creado tu plan personalizado basado en tus objetivos y preferencias.</p>
                        
                        <div class="summary-card">
                            <div class="summary-row">
                                <span class="summary-label">Nombre:</span>
                                <span class="summary-value" id="summary-name">-</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Objetivo:</span>
                                <span class="summary-value" id="summary-goal">-</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Nivel:</span>
                                <span class="summary-value" id="summary-level">-</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Tiempo por sesión:</span>
                                <span class="summary-value" id="summary-time">-</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">BMR estimado:</span>
                                <span class="summary-value" id="summary-bmr">-</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="welcome-actions">
                    <button class="btn-welcome btn-welcome-secondary" id="prev-step" style="display: none;">Anterior</button>
                    <button class="btn-welcome btn-welcome-primary" id="next-step">Continuar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="workout-generator.js"></script>
    <script src="app.js"></script>
</body>
</html>